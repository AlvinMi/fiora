<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>API-DOC · Fiora</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# fiora 接口文档"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="API-DOC · Fiora"/><meta property="og:type" content="website"/><meta property="og:url" content="https://fiora.suisuijiang.com/"/><meta property="og:description" content="# fiora 接口文档"/><meta property="og:image" content="https://fiora.suisuijiang.com/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://fiora.suisuijiang.com/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/favicon.ico" alt="Fiora"/><h2 class="headerTitleWithLogo">Fiora</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/INSTALL" target="_self">Docs</a></li><li class="siteNavItemActive"><a href="/docs/en/API-DOC" target="_self">API</a></li><li class=""><a href="/en/help" target="_self">Help</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-Hans/API-DOC"> 简体中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/yinxin630/fiora" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">API-DOC</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="fiora-接口文档"></a><a href="#fiora-接口文档" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fiora 接口文档</h1>
<h2><a class="anchor" aria-hidden="true" id="如何调用接口"></a><a href="#如何调用接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>如何调用接口</h2>
<p>fiora 后端基于 socket.io, 首先需要与后端建立连接</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> IO <span class="hljs-keyword">from</span> <span class="hljs-string">'socket.io-client'</span>;
<span class="hljs-keyword">const</span> socket = <span class="hljs-keyword">new</span> IO(serverAddrress, options);
</code></pre>
<p>接口调用格式为</p>
<pre><code class="hljs css language-js">socket.emit(event, data, callback);
</code></pre>
<p>参数说明</p>
<ul>
<li>event {string} 接口名/事件名</li>
<li>data {object} 接口入参</li>
<li>callback {string|object =&gt; void} 接口回调, 返回string表示接口失败, string内容为失败原因, 反正object表示接口成功, 里面包含返回数据</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="返回数据结构定义"></a><a href="#返回数据结构定义" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>返回数据结构定义</h2>
<h3><a class="anchor" aria-hidden="true" id="user"></a><a href="#user" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User</h3>
<pre><code class="hljs css language-js">{
    _id, <span class="hljs-comment">// {string} id</span>
    username, <span class="hljs-comment">// {string} 用户名</span>
    avatar, <span class="hljs-comment">// {string} 头像</span>
    groups, <span class="hljs-comment">// {[Group]} 群组列表</span>
    friends, <span class="hljs-comment">// {[User]} 好友列表</span>
    token, <span class="hljs-comment">// {string} 免密登录token</span>
    isAdmin, <span class="hljs-comment">// {boolean} 是否为管理员</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="group"></a><a href="#group" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Group</h3>
<pre><code class="hljs css language-js">{
    _id, <span class="hljs-comment">// {string} id</span>
    name, <span class="hljs-comment">// {string} 群组名</span>
    avatar, <span class="hljs-comment">// {string} 头像</span>
    creator, <span class="hljs-comment">// {User ID} 群主id</span>
    isDefault, <span class="hljs-comment">// {boolean} 是否为默认群</span>
    members, <span class="hljs-comment">// {[User]} 成员列表</span>
    messages, <span class="hljs-comment">// {[Message]} 消息列表</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="message"></a><a href="#message" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Message</h3>
<pre><code class="hljs css language-js">{
    _id, <span class="hljs-comment">// {string} id</span>
    <span class="hljs-keyword">from</span>, <span class="hljs-comment">// {User} 发送者</span>
    to, <span class="hljs-comment">// {string} 群聊: 群id, 私聊: 两人id拼接, 按字符串比较, 小的在前</span>
    type, <span class="hljs-comment">// {string} 消息类型 ['text', 'image', 'code', 'invite']</span>
    content, <span class="hljs-comment">// {string} 消息内容</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="接口列表"></a><a href="#接口列表" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口列表</h2>
<h3><a class="anchor" aria-hidden="true" id="用户注册"></a><a href="#用户注册" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用户注册</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'register'</span>,
    {
        username, <span class="hljs-comment">// {string} 用户名</span>
        password, <span class="hljs-comment">// {string} 密码</span>
        os, <span class="hljs-comment">// {string} 操作系统</span>
        browser, <span class="hljs-comment">// {string} 浏览器</span>
        environment, <span class="hljs-comment">// {string} 环境信息</span>
    },
    user =&gt; { }, <span class="hljs-comment">// {User} 用户数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="用户登录"></a><a href="#用户登录" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用户登录</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'login'</span>,
    {
        username, <span class="hljs-comment">// {string} 用户名</span>
        password, <span class="hljs-comment">// {string} 密码</span>
        os, <span class="hljs-comment">// {string} 操作系统</span>
        browser, <span class="hljs-comment">// {string} 浏览器</span>
        environment, <span class="hljs-comment">// {string} 环境信息</span>
    },
    user =&gt; { }, <span class="hljs-comment">// {User} 用户数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="免密登录--断线重连"></a><a href="#免密登录--断线重连" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>免密登录 / 断线重连</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'loginByToken'</span>,
    {
        token, <span class="hljs-comment">// {string} 免密登录token</span>
        os, <span class="hljs-comment">// {string} 操作系统</span>
        browser, <span class="hljs-comment">// {string} 浏览器</span>
        environment, <span class="hljs-comment">// {string} 环境信息</span>
    },
    user =&gt; { }, <span class="hljs-comment">// {User} 用户数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="游客登录"></a><a href="#游客登录" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>游客登录</h3>
<p>游客仅能获取到默认群组</p>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'guest'</span>,
    {
        os, <span class="hljs-comment">// {string} 操作系统</span>
        browser, <span class="hljs-comment">// {string} 浏览器</span>
        environment, <span class="hljs-comment">// {string} 环境信息</span>
    },
    defaultGroup =&gt; { }, <span class="hljs-comment">// {Group} 默认群组数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="修改头像"></a><a href="#修改头像" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改头像</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'changeAvatar'</span>,
    {
        avatar, <span class="hljs-comment">// {string} 新头像url</span>
    },
    () =&gt; { }, <span class="hljs-comment">// {Object} 返回空对象</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="添加好友"></a><a href="#添加好友" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>添加好友</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'addFriend'</span>,
    {
        userId, <span class="hljs-comment">// {User ID} 目标的id</span>
    },
    (friend) =&gt; { }, <span class="hljs-comment">// {User} 好友信息</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="删除好友"></a><a href="#删除好友" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>删除好友</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'deleteFriend'</span>,
    {
        userId, <span class="hljs-comment">// {User ID} 目标的id</span>
    },
    () =&gt; { }, <span class="hljs-comment">// {Object} 返回空对象</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="修改密码"></a><a href="#修改密码" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改密码</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'changePassword'</span>,
    {
        oldPassword, <span class="hljs-comment">// {string} 旧密码</span>
        newPassword, <span class="hljs-comment">// {string} 新密码</span>
    },
    () =&gt; { }, <span class="hljs-comment">// {Object} 返回空对象</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="修改用户名"></a><a href="#修改用户名" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改用户名</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'changeUsername'</span>,
    {
        username, <span class="hljs-comment">// {string} 新用户名</span>
    },
    () =&gt; { }, <span class="hljs-comment">// {Object} 返回空对象</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="重置指定用户密码"></a><a href="#重置指定用户密码" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>重置指定用户密码</h3>
<p>仅管理员可调用</p>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'resetUserPassword'</span>,
    {
        username, <span class="hljs-comment">// {string} 新用户名</span>
    },
    (data) =&gt; { <span class="hljs-comment">// {Object} 返回数据</span>
        data.newPassword, <span class="hljs-comment">// {string} 新密码</span>
    },
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="发送消息"></a><a href="#发送消息" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>发送消息</h3>
<p>通过 to 字段判断是发送给群, 还是发送给个人
发送群的话, to就是群id
发送个人的话, to就是两个人的id拼接, 按字符串比较结果, 小的在前大的在后</p>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'sendMessage'</span>,
    {
        to, <span class="hljs-comment">// {string} 目标群组, 或者俩用户id拼接结果</span>
        type, <span class="hljs-comment">// {string} 消息类型</span>
        content, <span class="hljs-comment">// {string} 消息内容</span>
    },
    (message) =&gt; { }, <span class="hljs-comment">// {Message} 新消息</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取联系人最后消息"></a><a href="#获取联系人最后消息" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取联系人最后消息</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getLinkmansLastMessages'</span>,
    {
        linkmans, <span class="hljs-comment">// {[string]} 联系人id列表, 与to同规则</span>
    },
    (messages) =&gt; { }, <span class="hljs-comment">// {object} 所有联系人的最后消息, key: 联系人id, value: [Message] 消息列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取联系人历史消息"></a><a href="#获取联系人历史消息" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取联系人历史消息</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getLinkmanHistoryMessages'</span>,
    {
        linkmanId, <span class="hljs-comment">// {string} 联系人id</span>
        existCount, <span class="hljs-comment">// {number} 已有消息数量</span>
    },
    (messages) =&gt; { }, <span class="hljs-comment">// {[Message]} 消息列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取默认群组的历史消息"></a><a href="#获取默认群组的历史消息" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取默认群组的历史消息</h3>
<p>不需要登录态</p>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getDefaultGroupHistoryMessages'</span>,
    {
        existCount, <span class="hljs-comment">// {number} 已有消息数量</span>
    },
    (messages) =&gt; { }, <span class="hljs-comment">// {[Message]} 消息列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="创建群组"></a><a href="#创建群组" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建群组</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'createGroup'</span>,
    {
        name, <span class="hljs-comment">// {string} 群组名</span>
    },
    (group) =&gt; { }, <span class="hljs-comment">// {Group} 新创建的群组</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="加入群组"></a><a href="#加入群组" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加入群组</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'joinGroup'</span>,
    {
        groupId, <span class="hljs-comment">// {Group ID} 目标群id</span>
    },
    (group) =&gt; { }, <span class="hljs-comment">// {Group} 新创建的群组</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="退出群组"></a><a href="#退出群组" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>退出群组</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'leaveGroup'</span>,
    {
        groupId, <span class="hljs-comment">// {Group ID} 目标群id</span>
    },
    () =&gt; { }, <span class="hljs-comment">// {object} 返回空数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取群组在线用户列表"></a><a href="#获取群组在线用户列表" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取群组在线用户列表</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getGroupOnlineMembers'</span>,
    {
        groupId, <span class="hljs-comment">// {Group ID} 目标群id</span>
    },
    (users) =&gt; { }, <span class="hljs-comment">// {[User]} 在线用户列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取默认群组在线用户列表"></a><a href="#获取默认群组在线用户列表" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取默认群组在线用户列表</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getDefaultGroupOnlineMembers'</span>,
    { },
    (users) =&gt; { }, <span class="hljs-comment">// {[User]} 在线用户列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="修改群头像"></a><a href="#修改群头像" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改群头像</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'changeGroupAvatar'</span>,
    {
        groupId, <span class="hljs-comment">// {Group ID} 目标群id</span>
        avatar, <span class="hljs-comment">// {string} 新头像url</span>
    },
    () =&gt; { }, <span class="hljs-comment">// {object} 返回空数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取七牛前端文件上传token"></a><a href="#获取七牛前端文件上传token" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取七牛前端文件上传token</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'uploadToken'</span>,
    { },
    (data) =&gt; {
        <span class="hljs-comment">// 服务端支持七牛</span>
        data.token, <span class="hljs-comment">// 上传token</span>
        data.urlPrefix, <span class="hljs-comment">// 文件上传后的路径前缀</span>

        <span class="hljs-comment">// 服务端不支持七牛</span>
        data.useUploadFile, <span class="hljs-comment">// 不支持上传七牛, 需要客户端调用 uploadFile 上传文件到服务端</span>
    },
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="搜索用户群组"></a><a href="#搜索用户群组" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>搜索用户/群组</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'search'</span>,
    {
        keywords, <span class="hljs-comment">// {string} 搜索关键字</span>
    },
    (data) =&gt; {
        data.users, <span class="hljs-comment">// {[User]} 命中的用户</span>
        data.groups, <span class="hljs-comment">// {[Group]} 命中的群组</span>
    },
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="搜索表情包"></a><a href="#搜索表情包" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>搜索表情包</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'searchExpression'</span>,
    {
        keywords, <span class="hljs-comment">// {string} 搜索关键字</span>
    },
    (imageUrls) =&gt; {}, <span class="hljs-comment">// {[string]} 图片列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取百度语言合成token"></a><a href="#获取百度语言合成token" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取百度语言合成token</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getBaiduToken'</span>,
    { },
    (data) =&gt; {
        data.token, <span class="hljs-comment">// {string} token</span>
    },
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="封禁用户"></a><a href="#封禁用户" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>封禁用户</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'sealUser'</span>,
    {
        username, <span class="hljs-comment">// {string} 要封禁的用户名</span>
    },
    () =&gt; {}, <span class="hljs-comment">// {object} 返回空数据</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="获取封禁用户列表"></a><a href="#获取封禁用户列表" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取封禁用户列表</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'getSealList'</span>,
    { },
    (users) =&gt; {}, <span class="hljs-comment">// {[string]} 被封禁的用户名列表</span>
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="上传文件到服务端"></a><a href="#上传文件到服务端" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>上传文件到服务端</h3>
<pre><code class="hljs css language-js">socket.emit(
    <span class="hljs-string">'uploadFile'</span>,
    {
        fileName, <span class="hljs-comment">// {string} 文件名</span>
        file, <span class="hljs-comment">// {blob} 文件内容, blob格式</span>
    },
    (data) =&gt; {
        data.url, <span class="hljs-comment">// 文件url</span>
    },
);
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#如何调用接口">如何调用接口</a></li><li><a href="#返回数据结构定义">返回数据结构定义</a><ul class="toc-headings"><li><a href="#user">User</a></li><li><a href="#group">Group</a></li><li><a href="#message">Message</a></li></ul></li><li><a href="#接口列表">接口列表</a><ul class="toc-headings"><li><a href="#用户注册">用户注册</a></li><li><a href="#用户登录">用户登录</a></li><li><a href="#免密登录--断线重连">免密登录 / 断线重连</a></li><li><a href="#游客登录">游客登录</a></li><li><a href="#修改头像">修改头像</a></li><li><a href="#添加好友">添加好友</a></li><li><a href="#删除好友">删除好友</a></li><li><a href="#修改密码">修改密码</a></li><li><a href="#修改用户名">修改用户名</a></li><li><a href="#重置指定用户密码">重置指定用户密码</a></li><li><a href="#发送消息">发送消息</a></li><li><a href="#获取联系人最后消息">获取联系人最后消息</a></li><li><a href="#获取联系人历史消息">获取联系人历史消息</a></li><li><a href="#获取默认群组的历史消息">获取默认群组的历史消息</a></li><li><a href="#创建群组">创建群组</a></li><li><a href="#加入群组">加入群组</a></li><li><a href="#退出群组">退出群组</a></li><li><a href="#获取群组在线用户列表">获取群组在线用户列表</a></li><li><a href="#获取默认群组在线用户列表">获取默认群组在线用户列表</a></li><li><a href="#修改群头像">修改群头像</a></li><li><a href="#获取七牛前端文件上传token">获取七牛前端文件上传token</a></li><li><a href="#搜索用户群组">搜索用户/群组</a></li><li><a href="#搜索表情包">搜索表情包</a></li><li><a href="#获取百度语言合成token">获取百度语言合成token</a></li><li><a href="#封禁用户">封禁用户</a></li><li><a href="#获取封禁用户列表">获取封禁用户列表</a></li><li><a href="#上传文件到服务端">上传文件到服务端</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.ico" alt="Fiora" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/doc1.html">Getting Started (or other categories)</a><a href="/docs/doc2.html">Guides (or other categories)</a><a href="/docs/API-DOC.md">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/users">User Showcase</a><a href="https://fiora.suisuijiang.com/">Project Chat</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/yinxin630/fiora">GitHub</a><a class="github-button" href="https://github.com/yinxin630/fiora" data-icon="octicon-star" data-count-href="/yinxin630/fiora/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2021 Your Name or Your Company Name</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'undefined',
                indexName: 'fiora',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en","version:undefined"]}
              });
            </script></body></html>